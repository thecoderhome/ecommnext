(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[118],{9640:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/unauthorized",function(){return s(2145)}])},3399:function(e,n,s){"use strict";s.d(n,{Z:function(){return m}});var t=s(5893),i=s(7294),r=s(2920);s(7134);var l=s(5746),c=s(9008),a=s.n(c),o=s(1664),d=s.n(o),h=s(2148),x=s(3299);function u(e){let{href:n,children:s,...i}=e;return(0,t.jsx)(d(),{href:n,legacyBehavior:!0,children:(0,t.jsx)("a",{...i,children:s})})}var f=s(1955);function m(e){let{title:n,children:s}=e,{status:c,data:o}=(0,x.useSession)(),{state:m,dispatch:j}=(0,i.useContext)(h.y),{cart:{cartItems:v}}=m,[p,g]=(0,i.useState)(0);(0,i.useEffect)(()=>{g(v.reduce((e,n)=>e+n.quantity,0))},[v]);let N=()=>{f.Z.remove("cart"),j("CART_RESET"),(0,x.signOut)({callbackUrl:"/login"})};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(a(),{children:[(0,t.jsx)("title",{children:n?"".concat(n," - EVSHOP"):"EVSHOP"}),(0,t.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,t.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,t.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,t.jsx)(r.Ix,{position:"bottom-center",limit:1}),(0,t.jsxs)("div",{className:"flex min-h-screen flex-col justify-between",children:[(0,t.jsx)("header",{children:(0,t.jsxs)("nav",{className:"flex h-12 items-center px-4 justify-between shadow-md",children:[(0,t.jsx)(d(),{href:"/",legacyBehavior:!0,children:(0,t.jsx)("a",{className:"text-lg font-bold",children:"EVSHOP"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)(d(),{href:"/cart",legacyBehavior:!0,children:(0,t.jsxs)("a",{className:"p-2",children:["Cart",p>0&&(0,t.jsx)("span",{className:"ml-1 rounded-full bg-red-600 px-2 py-1 text-xs font-bold text-white",children:p})]})}),"loading"===c?"Loading":(null==o?void 0:o.user)?(0,t.jsxs)(l.v,{as:"div",className:"relative inline-block",children:[(0,t.jsx)(l.v.Button,{className:"text-blue-600",children:o.user.name}),(0,t.jsxs)(l.v.Items,{className:"absolute right-0 w-56 origin-top-right bg-white shadow-lg",children:[(0,t.jsx)(l.v.Item,{children:(0,t.jsx)(u,{className:"dropdown-link",href:"/profile",children:"Profile"})}),(0,t.jsx)(l.v.Item,{children:(0,t.jsx)(u,{className:"dropdown-link",href:"/order-history",children:"Order History"})}),(0,t.jsx)(l.v.Item,{children:(0,t.jsx)("a",{className:"dropdown-link",href:"#",onClick:N,children:"Logout"})})]})]}):(0,t.jsx)(d(),{href:"/login",legacyBehavior:!0,children:(0,t.jsx)("a",{className:"p-2",children:"Login"})})]})]})}),(0,t.jsx)("main",{className:"container m-auto mt-4 px-4",children:s}),(0,t.jsx)("footer",{className:"flex h-10 justify-center items-center shadow-inner",children:"Copyright \xa92023 EVSHOP"})]})]})}},2145:function(e,n,s){"use strict";s.r(n),s.d(n,{default:function(){return l}});var t=s(5893),i=s(3399),r=s(1163);function l(){let e=(0,r.useRouter)(),{message:n}=e.query;return(0,t.jsxs)(i.Z,{title:"Unauthorized page",children:[(0,t.jsx)("div",{className:"text-xl",children:"Access denied"}),n&&(0,t.jsx)("div",{className:"mb-4 text-red-500",children:n})]})}s(7294)}},function(e){e.O(0,[329,774,888,179],function(){return e(e.s=9640)}),_N_E=e.O()}]);